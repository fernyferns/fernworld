<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="noindex">
    <title>Fernworld</title>
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chilanka&display=swap" rel="stylesheet">
    <style>
        html {
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            margin-left: 2em;
            margin-right: 2em;
            max-width: 800px;
        }

        * {
            font-family: 'Chilanka';
        }

        p {
            margin-bottom: 1.3em;
        }

        .alert {
            background-color: lemonchiffon;
        }
    </style>
    <script src="./sjcl.js"></script>
</head>

<script>

    var alertShown = false;

    function login(manualLogin = false) {

        var password = "";

        try {

            if (manualLogin) {
                password = document.getElementById("password").value || "";
                localStorage.setItem("password", password);
                decryptAndRender(password);
                return;
            }

            else {

                //check if password is in query string
                password = getParameterByName("password");
                if (password) {
                    localStorage.setItem("password", password);
                    decryptAndRender(password);
                    return;
                }

                //check if password is already in storage
                password = localStorage.getItem("password");
                if (password) {
                    decryptAndRender(password);
                    return;
                }

            }

        } catch (error) {
            //clear session storage on error.
            localStorage.removeItem("password");
            if (error) {
                if (error.message == "ccm: tag doesn't match") {
                    showAlert("Password incorrect");
                } else if (error.message) {
                    showAlert(error.message);
                } else {
                    showAlert("Something went wrong.");
                }
            }
        }

    }

    function decryptAndRender(password) {
        var decryptedHtmlPage = sjcl.decrypt(password, encryptedHtml);
        document.open("text/html", "replace");
        document.write(decryptedHtmlPage);
        document.close();
    }

    function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    function showAlert(message) {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert" class="alert" onClick="dismissAlert()"><a href="#" onClick="dismissAlert()">[x]</a>&nbsp;&nbsp;${message}</p>`;
            alertShown = true;
        }
    }

    function dismissAlert() {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert"></p>`;
            alertShown = false;
        }
    }

    function passwordKeyPress(event) {
        if (alertShown) {
            dismissAlert();
        }
        if (event.key == "Enter") {
            login(true);
        }
    }

    var encryptedHtml = '{"iv":"ON9UiLRJ3wo3B+H0dfRWDA==","v":1,"iter":10000,"ks":128,"ts":64,"mode":"ccm","adata":"","cipher":"aes","salt":"Ixabti4G6l0=","ct":"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"}';

    login();


</script>

<body onload="onLoad()">

    <noscript>
        <p class="alert">This site requires JavaScript to function. Login will not function without scripts enabled.</p>
    </noscript>

    <p id="alert"></p>

    <h1>
        Login
    </h1>

    <div>
        <label for="password">Password</label>
        <input type="password" id="password" required disabled onkeypress="passwordKeyPress(event)" />
        <p>Ask Fern if you don't know the password.</p>
    </div>

    <p>
        <button disabled type="button" id="loginBtn" onclick="login(true)">
            Login
        </button>
    </p>

    <script>

        function onLoad() {

            //enable login button.
            document.getElementById("loginBtn").removeAttribute("disabled");
            document.getElementById("password").removeAttribute("disabled");

            login();

        }

    </script>

</body>

</html>