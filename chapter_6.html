<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="noindex">
    <title>Fernworld</title>
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chilanka&display=swap" rel="stylesheet">
    <style>
        html {
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            margin-left: 2em;
            margin-right: 2em;
            max-width: 800px;
        }

        * {
            font-family: 'Chilanka';
        }

        p {
            margin-bottom: 1.3em;
        }

        .alert {
            background-color: lemonchiffon;
        }
    </style>
    <script src="./sjcl.js"></script>
</head>

<script>

    var alertShown = false;

    function login(manualLogin = false) {

        var password = "";

        try {

            if (manualLogin) {
                password = document.getElementById("password").value || "";
                localStorage.setItem("password", password);
                decryptAndRender(password);
                return;
            }

            else {

                //check if password is in query string
                password = getParameterByName("password");
                if (password) {
                    localStorage.setItem("password", password);
                    decryptAndRender(password);
                    return;
                }

                //check if password is already in storage
                password = localStorage.getItem("password");
                if (password) {
                    decryptAndRender(password);
                    return;
                }

            }

        } catch (error) {
            //clear session storage on error.
            localStorage.removeItem("password");
            if (error) {
                if (error.message == "ccm: tag doesn't match") {
                    showAlert("Password incorrect");
                } else if (error.message) {
                    showAlert(error.message);
                } else {
                    showAlert("Something went wrong.");
                }
            }
        }

    }

    function decryptAndRender(password) {
        var decryptedHtmlPage = sjcl.decrypt(password, encryptedHtml);
        document.open("text/html", "replace");
        document.write(decryptedHtmlPage);
        document.close();
    }

    function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    function showAlert(message) {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert" class="alert" onClick="dismissAlert()"><a href="#" onClick="dismissAlert()">[x]</a>&nbsp;&nbsp;${message}</p>`;
            alertShown = true;
        }
    }

    function dismissAlert() {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert"></p>`;
            alertShown = false;
        }
    }

    function passwordKeyPress(event) {
        if (alertShown) {
            dismissAlert();
        }
        if (event.key == "Enter") {
            login(true);
        }
    }

    var encryptedHtml = '{"iv":"2NGNAziKEMDYBWdcytHyhg==","v":1,"iter":10000,"ks":128,"ts":64,"mode":"ccm","adata":"","cipher":"aes","salt":"9yXl9RbCtec=","ct":"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"}';

    login();


</script>

<body onload="onLoad()">

    <noscript>
        <p class="alert">This site requires JavaScript to function. Login will not function without scripts enabled.</p>
    </noscript>

    <p id="alert"></p>

    <h1>
        Login
    </h1>

    <div>
        <label for="password">Password</label>
        <input type="password" id="password" required disabled onkeypress="passwordKeyPress(event)" />
        <p>Ask Fern if you don't know the password.</p>
    </div>

    <p>
        <button disabled type="button" id="loginBtn" onclick="login(true)">
            Login
        </button>
    </p>

    <script>

        function onLoad() {

            //enable login button.
            document.getElementById("loginBtn").removeAttribute("disabled");
            document.getElementById("password").removeAttribute("disabled");

            login();

        }

    </script>

</body>

</html>