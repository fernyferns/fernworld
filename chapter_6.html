<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="noindex">
    <title>Fernworld</title>
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chilanka&display=swap" rel="stylesheet">
    <style>
        html {
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            margin-left: 2em;
            margin-right: 2em;
            max-width: 800px;
        }

        * {
            font-family: 'Chilanka';
        }

        p {
            margin-bottom: 1.3em;
        }

        .alert {
            background-color: lemonchiffon;
        }
    </style>
    <script src="./sjcl.js"></script>
</head>

<script>

    var alertShown = false;

    function login(manualLogin = false) {

        var password = "";

        try {

            if (manualLogin) {
                password = document.getElementById("password").value || "";
                localStorage.setItem("password", password);
                decryptAndRender(password);
                return;
            }

            else {

                //check if password is in query string
                password = getParameterByName("password");
                if (password) {
                    localStorage.setItem("password", password);
                    decryptAndRender(password);
                    return;
                }

                //check if password is already in storage
                password = localStorage.getItem("password");
                if (password) {
                    decryptAndRender(password);
                    return;
                }

            }

        } catch (error) {
            //clear session storage on error.
            localStorage.removeItem("password");
            if (error) {
                if (error.message == "ccm: tag doesn't match") {
                    showAlert("Password incorrect");
                } else if (error.message) {
                    showAlert(error.message);
                } else {
                    showAlert("Something went wrong.");
                }
            }
        }

    }

    function decryptAndRender(password) {
        var decryptedHtmlPage = sjcl.decrypt(password, encryptedHtml);
        document.open("text/html", "replace");
        document.write(decryptedHtmlPage);
        document.close();
    }

    function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    function showAlert(message) {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert" class="alert" onClick="dismissAlert()"><a href="#" onClick="dismissAlert()">[x]</a>&nbsp;&nbsp;${message}</p>`;
            alertShown = true;
        }
    }

    function dismissAlert() {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert"></p>`;
            alertShown = false;
        }
    }

    function passwordKeyPress(event) {
        if (alertShown) {
            dismissAlert();
        }
        if (event.key == "Enter") {
            login(true);
        }
    }

    var encryptedHtml = '{"iv":"xR28KNn+KpuQZaIdk3ntSA==","v":1,"iter":10000,"ks":128,"ts":64,"mode":"ccm","adata":"","cipher":"aes","salt":"Ixabti4G6l0=","ct":"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"}';

    login();


</script>

<body onload="onLoad()">

    <noscript>
        <p class="alert">This site requires JavaScript to function. Login will not function without scripts enabled.</p>
    </noscript>

    <p id="alert"></p>

    <h1>
        Login
    </h1>

    <div>
        <label for="password">Password</label>
        <input type="password" id="password" required disabled onkeypress="passwordKeyPress(event)" />
        <p>Ask Fern if you don't know the password.</p>
    </div>

    <p>
        <button disabled type="button" id="loginBtn" onclick="login(true)">
            Login
        </button>
    </p>

    <script>

        function onLoad() {

            //enable login button.
            document.getElementById("loginBtn").removeAttribute("disabled");
            document.getElementById("password").removeAttribute("disabled");

            login();

        }

    </script>

</body>

</html>