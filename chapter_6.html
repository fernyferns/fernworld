<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="noindex">
    <title>Fernworld</title>
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chilanka&display=swap" rel="stylesheet">
    <style>
        html {
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            margin-left: 2em;
            margin-right: 2em;
            max-width: 800px;
        }

        * {
            font-family: 'Chilanka';
        }

        p {
            margin-bottom: 1.3em;
        }

        .alert {
            background-color: lemonchiffon;
        }
    </style>
    <script src="./sjcl.js"></script>
</head>

<script>

    var alertShown = false;

    function login(manualLogin = false) {

        var password = "";

        try {

            if (manualLogin) {
                password = document.getElementById("password").value || "";
                localStorage.setItem("password", password);
                decryptAndRender(password);
                return;
            }

            else {

                //check if password is in query string
                password = getParameterByName("password");
                if (password) {
                    localStorage.setItem("password", password);
                    decryptAndRender(password);
                    return;
                }

                //check if password is already in storage
                password = localStorage.getItem("password");
                if (password) {
                    decryptAndRender(password);
                    return;
                }

            }

        } catch (error) {
            //clear session storage on error.
            localStorage.removeItem("password");
            if (error) {
                if (error.message == "ccm: tag doesn't match") {
                    showAlert("Password incorrect");
                } else if (error.message) {
                    showAlert(error.message);
                } else {
                    showAlert("Something went wrong.");
                }
            }
        }

    }

    function decryptAndRender(password) {
        var decryptedHtmlPage = sjcl.decrypt(password, encryptedHtml);
        document.open("text/html", "replace");
        document.write(decryptedHtmlPage);
        document.close();
    }

    function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    function showAlert(message) {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert" class="alert" onClick="dismissAlert()"><a href="#" onClick="dismissAlert()">[x]</a>&nbsp;&nbsp;${message}</p>`;
            alertShown = true;
        }
    }

    function dismissAlert() {
        var container = document.getElementById("alert");
        if (container) {
            container.outerHTML = `<p id="alert"></p>`;
            alertShown = false;
        }
    }

    function passwordKeyPress(event) {
        if (alertShown) {
            dismissAlert();
        }
        if (event.key == "Enter") {
            login(true);
        }
    }

    var encryptedHtml = '{"iv":"oihJ1UxvVbAlw4xc0KCliQ==","v":1,"iter":10000,"ks":128,"ts":64,"mode":"ccm","adata":"","cipher":"aes","salt":"q/JLYWZTrII=","ct":"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"}';

    login();


</script>

<body onload="onLoad()">

    <noscript>
        <p class="alert">This site requires JavaScript to function. Login will not function without scripts enabled.</p>
    </noscript>

    <p id="alert"></p>

    <h1>
        Login
    </h1>

    <div>
        <label for="password">Password</label>
        <input type="password" id="password" required disabled onkeypress="passwordKeyPress(event)" />
        <p>Ask Fern if you don't know the password.</p>
    </div>

    <p>
        <button disabled type="button" id="loginBtn" onclick="login(true)">
            Login
        </button>
    </p>

    <script>

        function onLoad() {

            //enable login button.
            document.getElementById("loginBtn").removeAttribute("disabled");
            document.getElementById("password").removeAttribute("disabled");

            login();

        }

    </script>

</body>

</html>